<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.stylefeng.guns.modular.CoalMS.dao.TVTrainmainMapper" >
  <resultMap id="BaseResultMap" type="com.stylefeng.guns.modular.CoalMS.model.TVTrainmain" >
    <result column="COMPANY" property="company" jdbcType="VARCHAR" />
    <result column="FTRAINCODEVCR" property="ftraincodevcr" jdbcType="VARCHAR" />
    <result column="FTRAINORDERVCR" property="ftrainordervcr" jdbcType="VARCHAR" />
    <result column="FARRIVEPORTTIMEDTM" property="farriveporttimedtm" jdbcType="DATE" />
    <result column="FTRAINNUMNUM" property="ftrainnumnum" jdbcType="VARCHAR" />
    <result column="FUNLOADFLAGNUM" property="funloadflagnum" jdbcType="DECIMAL" />
    <result column="FISWEIGHTNUM" property="fisweightnum" jdbcType="DECIMAL" />
    <result column="FWEIGHTDTM" property="fweightdtm" jdbcType="DATE" />
    <result column="FWEIGHTFLAG" property="fweightflag" jdbcType="VARCHAR" />
    <result column="FBELONGDATETIMEDTM" property="fbelongdatetimedtm" jdbcType="DATE" />
    <result column="ISVALID" property="isvalid" jdbcType="DECIMAL" />
    <result column="FHEAVYTONNUM" property="fheavytonnum" jdbcType="DECIMAL" />
    <result column="FEMPTYTONNUM" property="femptytonnum" jdbcType="DECIMAL" />
    <result column="FWEIGHTTONNUM" property="fweighttonnum" jdbcType="DECIMAL" />
    <result column="FCHECKTONNUM" property="fchecktonnum" jdbcType="DECIMAL" />
    <result column="TRAINCOUNT" property="traincount" jdbcType="DECIMAL" />
  </resultMap>

  <select id="search1" resultType="map">
    select * from T_V_TRAINMAIN
    <if test="(str_company != null and str_company != '')or(dt_start != null and dt_start != '') or (dt_end != null and dt_end != '') ">
      where COMPANY like CONCAT('%',#{str_company},'%')
    </if>
  </select>
  <select id="search4" resultType="map">
    select * from T_V_TRAINMAIN
    <if test="(str_ftraincodevcr != null and str_ftraincodevcr != '')or(dt_start != null and dt_start != '') or (dt_end != null and dt_end != '')or(str_company != null and str_company != '') ">
      where FTRAINCODEVCR like CONCAT('%',#{str_ftraincodevcr},'%')and COMPANY like CONCAT('%',#{str_company},'%')
    </if>
  </select>
  <select id="search6" resultType="map">
    select * from T_V_TRAIN
    <if test="(str_company != null and str_company != '')or(dt_start != null and dt_start != '') or (dt_end != null and dt_end != '')">
      where COMPANY like CONCAT('%',#{str_company},'%')
    </if>
  </select>
  <select id="Train5D" resultType="map">
    select * from T_V_TRAIN
    <if test="(str_company != null and str_company != '')or(dt_start != null and dt_start != '') or (dt_end != null and dt_end != '')">
      where FTRAINCODEVCR like CONCAT('%',#{str_trainno},'%')
    </if>
  </select>
</mapper>